<br>
<div class="float-right white"><%= render "/layouts/coins_ui" %></div>
<br />
<div class="booyah-box2 col-10 offset-1"  id="kcontainer">
<div id="cloud-container">
  <div class="form">
    <h1 class="text-center username">
    <% if @wish.user.username.present? %>
       <span class="form-username my-font"><%= @wish.user.username %>'s Wish:</span>
      <br>
    <% else %>
      WISH
    <% end %>
    </h1>
    <p class="lead text-center wish-description"><%= @wish.description %></p>
    <h3 class="text-center" style="position: relative;">
      <%= @wish.coin_bucket %>
      <div id="heart-animation" style="position:absolute; margin-left:auto margin-right: auto; right:0; left:0; opacity:0"><i class="fa fa-heart" style="color:red; aria-hidden="true"></i></div>

      <% if @wish.coin_bucket == 0 %>
        <i class="fa fa-heart-o" style="color:red;" aria-hidden="true"></i>
      <% else %>
        <i class="fa fa-heart" style="color:red; aria-hidden="true"></i>
      <% end %>
     </h3>
    <%= simple_form_for @donation, url: wish_donations_path(@wish), html:{class: "heart-form"} do |f| %>
      <%= f.input :amount, as: :hidden, input_html: {value: f.object.amount || '1'} %>
      <%= button_tag(type: 'submit', class: "btn btn-remove") do %>
        <i class="fa fa-heart-o fa-3x" style="color:red;" aria-hidden="true"></i>
      <% end %>
    <% end %>
  </div>
</div>
</div>


<script>
  $(document).ready(function(){
     $(".btn-remove").click(function(){
        $("#heart-animation").animate({
          fontSize: "300px",
          opacity: "1"
        });

    });

    $('.heart-form').submit(function (e) {
    var form = this;
    e.preventDefault();
    setTimeout(function () {
        form.submit();
    }, 300); // in milliseconds
});




  });

</script>


